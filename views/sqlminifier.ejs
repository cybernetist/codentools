<%- include('inc/header'); %>

<body>
    <div class="container-fluid">
          <h1 class="my-5">SQL Minifier</h1>

          <div class="row">
              <div class="col-md-6 text-center">
                  <div class="form-group">
                  <label for="html">SQL</label> 
                  <textarea class="form-control" id="sql" name="sql" rows="25" style="width:100%;max-width:100%" required=""></textarea>
                  </div>
                  <button class="btn btn-primary mt-2" id="minifier" name="SQL Minifier">Minify</button>
              </div>
              <div class="col-md-6 text-center">
                  <div class="form-group">
                      <label for="beautifiedCSS">Minified SQL</label> 
                      <textarea class="form-control" id="minifiedSQL" name="minifiedSQL" rows="25" style="width:100%;max-width:100%" readonly=""></textarea>
                  </div>
                  <button class="btn btn-success my-2" id="copyToClipboard" onclick="copyBe()" name="copyToClipboard">Copy to clipboard</button>
              </div>
          </div>
        
         
    </div>

    
    
<script type="text/javascript" src="/assets/js/vkbeautify.js"></script>

    
<script>

$( "#minifier" ).click(function() {
var sqlmin = $("#sql").val(); 
var minifiedSQL = vkbeautify.sqlmin(sqlmin);
$("#minifiedSQL").val(minifiedSQL);     

});
    
    
function copyBe() {

  var copyText = document.getElementById("minifiedSQL");


  copyText.select();
  copyText.setSelectionRange(0, 99999); 


  navigator.clipboard.writeText(copyText.value);


  alert("Copied");
}
   
</script>    
</body>
</html>